# MCP é©±åŠ¨çš„å¼€å‘å·¥ä½œæµ

> æœ¬æ–‡æ¡£å®šä¹‰äº†åŸºäº MCP (Model Context Protocol) å·¥å…·é›†çš„ç°ä»£åŒ–å¼€å‘æµç¨‹ï¼Œæ›¿ä»£ä¼ ç»Ÿçš„äººå·¥éªŒæ”¶æ¨¡å¼ã€‚

## 1. æ ¸å¿ƒç†å¿µ

### 1.1 ä»"æ—¥å¿—é©±åŠ¨"åˆ°"èƒ½åŠ›é©±åŠ¨"

| ä¼ ç»Ÿæ¨¡å¼ | MCP æ¨¡å¼ |
|----------|----------|
| Agent åªèƒ½è¯»å–æ—¥å¿—æ–‡ä»¶ | Agent å¯ç›´æ¥æ“ä½œæµè§ˆå™¨ |
| éªŒæ”¶ä¾èµ–äººå·¥æ‰§è¡Œ CLI | Playwright MCP è‡ªåŠ¨åŒ–éªŒæ”¶ |
| æ‰‹åŠ¨åˆ›å»º PR | GitHub MCP è‡ªåŠ¨åŒ– PR æµç¨‹ |
| æµ‹è¯•ç»“æœéœ€äººå·¥è§£è¯» | Memory MCP æŒä¹…åŒ–ä¸Šä¸‹æ–‡ |

### 1.2 å·¥ä½œæµåŸåˆ™

1. **èƒ½åŠ›ä¼˜å…ˆ**ï¼šä¼˜å…ˆä½¿ç”¨ MCP å·¥å…·ç›´æ¥éªŒè¯ï¼Œè€Œéé—´æ¥æ¨æ–­
2. **æ¸è¿›å¢å¼º**ï¼šè‡ªåŠ¨åŒ–è¦†ç›–èŒƒå›´é€æ­¥æ‰©å¤§ï¼Œäººå·¥ä»‹å…¥é€æ­¥å‡å°‘
3. **ä¸Šä¸‹æ–‡æŒä¹…**ï¼šåˆ©ç”¨ Memory MCP è·¨ä¼šè¯ä¿æŒé¡¹ç›®çŸ¥è¯†
4. **å®‰å…¨è¾¹ç•Œ**ï¼šæ•æ„Ÿæ“ä½œï¼ˆpushã€mergeï¼‰ä»éœ€äººå·¥ç¡®è®¤

---

## 2. MCP å·¥å…·çŸ©é˜µ

### 2.1 å¯ç”¨å·¥å…·æ¸…å•

| MCP æœåŠ¡ | æ ¸å¿ƒèƒ½åŠ› | éªŒæ”¶é˜¶æ®µ |
|----------|----------|----------|
| **Playwright** | æµè§ˆå™¨è‡ªåŠ¨åŒ–ã€æˆªå›¾ã€å¯¼èˆª | é˜¶æ®µ 4-6 |
| **GitHub** | PR åˆ›å»ºã€å®¡æŸ¥ã€åˆå¹¶ã€Issue ç®¡ç† | é˜¶æ®µ 7-8 |
| **Memory** | çŸ¥è¯†å›¾è°±ã€ä¸Šä¸‹æ–‡æŒä¹…åŒ– | å…¨æµç¨‹ |

### 2.2 Playwright MCP èƒ½åŠ›è¯¦æƒ…

```python
# æµè§ˆå™¨æ“ä½œ
playwright_navigate(
    url="https://rewards.microsoft.com",
    browserType="chromium",  # chromium/firefox/webkit
    headless=False,          # False=å¯è§†åŒ–ï¼ŒTrue=æ— å¤´
    width=1280,
    height=720
)

# ä»£ç ç”Ÿæˆï¼ˆå½•åˆ¶æ“ä½œç”Ÿæˆæµ‹è¯•ï¼‰
start_codegen_session(options={"outputPath": "tests/e2e/"})
end_codegen_session(sessionId="xxx")
```

### 2.3 GitHub MCP èƒ½åŠ›è¯¦æƒ…

```python
# PR ç®¡ç†
create_pull_request(title, head, base, body)
get_pull_request_status(owner, repo, pull_number)
merge_pull_request(owner, repo, pull_number)
create_pull_request_review(owner, repo, pull_number, event="APPROVE")

# Issue ç®¡ç†
create_issue(owner, repo, title, body, labels)
list_issues(owner, repo, state="open")
add_issue_comment(owner, repo, issue_number, body)

# åˆ†æ”¯ç®¡ç†
create_branch(owner, repo, branch, from_branch)
```

### 2.4 Memory MCP èƒ½åŠ›è¯¦æƒ…

```python
# çŸ¥è¯†ç®¡ç†
create_entities(entities=[{
    "name": "LoginStateMachine",
    "entityType": "Component",
    "observations": ["çŠ¶æ€æœºæ¨¡å¼", "10ä¸ªHandler", "æ”¯æŒ2FA"]
}])
create_relations(relations=[{
    "from": "LoginStateMachine",
    "to": "MSRewardsApp",
    "relationType": "integrated_in"
}])
search_nodes(query="ç™»å½•æµç¨‹")
```

---

## 3. éªŒæ”¶æµç¨‹é‡æ„

### 3.1 æ–°ç‰ˆ 8 é˜¶æ®µéªŒæ”¶æµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        MCP é©±åŠ¨çš„ 8 é˜¶æ®µéªŒæ”¶æµç¨‹                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   é˜¶æ®µ 1     â”‚â”€â”€â–¶â”‚   é˜¶æ®µ 2     â”‚â”€â”€â–¶â”‚   é˜¶æ®µ 3     â”‚â”€â”€â–¶â”‚   é˜¶æ®µ 4     â”‚
â”‚   é™æ€æ£€æŸ¥   â”‚   â”‚   å•å…ƒæµ‹è¯•   â”‚   â”‚   é›†æˆæµ‹è¯•   â”‚   â”‚  Dev æ— å¤´    â”‚
â”‚   (CI è‡ªåŠ¨)  â”‚   â”‚   (CI è‡ªåŠ¨)  â”‚   â”‚   (CI è‡ªåŠ¨)  â”‚   â”‚ (Playwright) â”‚
â”‚   ruff+mypy  â”‚   â”‚   pytest     â”‚   â”‚   pytest     â”‚   â”‚   headless   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                                â”‚
                                                                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   é˜¶æ®µ 8     â”‚â—€â”€â”€â”‚   é˜¶æ®µ 7     â”‚â—€â”€â”€â”‚   é˜¶æ®µ 6     â”‚â—€â”€â”€â”‚   é˜¶æ®µ 5     â”‚
â”‚   åˆå¹¶ PR    â”‚   â”‚  GitHub PR   â”‚   â”‚  æœ‰å¤´éªŒæ”¶    â”‚   â”‚  User æ— å¤´   â”‚
â”‚  (äººå·¥ç¡®è®¤)  â”‚   â”‚  (MCP è‡ªåŠ¨)  â”‚   â”‚ (Playwright) â”‚   â”‚ (Playwright) â”‚
â”‚   merge      â”‚   â”‚   create_pr  â”‚   â”‚   visible    â”‚   â”‚   headless   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.2 å„é˜¶æ®µè¯¦ç»†å®šä¹‰

| é˜¶æ®µ | éªŒæ”¶å†…å®¹ | æ‰§è¡Œè€… | å·¥å…· | é€šè¿‡æ¡ä»¶ |
|------|----------|--------|------|----------|
| **1. é™æ€æ£€æŸ¥** | ä»£ç é£æ ¼ã€ç±»å‹æ£€æŸ¥ | CI | ruff, mypy | æ— é”™è¯¯ |
| **2. å•å…ƒæµ‹è¯•** | æ¨¡å—åŠŸèƒ½éš”ç¦»æµ‹è¯• | CI | pytest | å…¨éƒ¨é€šè¿‡ |
| **3. é›†æˆæµ‹è¯•** | å¤šæ¨¡å—åä½œæµ‹è¯• | CI | pytest | å…¨éƒ¨é€šè¿‡ |
| **4. Dev æ— å¤´** | å¼€å‘é…ç½®å¿«é€ŸéªŒè¯ | Agent | Playwright MCP | é€€å‡ºç  0 |
| **5. User æ— å¤´** | ç”¨æˆ·é…ç½®å®Œæ•´éªŒè¯ | Agent | Playwright MCP | æ— ä¸¥é‡é—®é¢˜ |
| **6. æœ‰å¤´éªŒæ”¶** | å¯è§†åŒ–æµç¨‹ç¡®è®¤ | Agent | Playwright MCP | è¡Œä¸ºç¬¦åˆé¢„æœŸ |
| **7. GitHub PR** | åˆ›å»º PRã€è§¦å‘å®¡æŸ¥ | Agent | GitHub MCP | PR åˆ›å»ºæˆåŠŸ |
| **8. åˆå¹¶ PR** | åˆå¹¶åˆ°ä¸»åˆ†æ”¯ | äººå·¥ | GitHub MCP | äººå·¥ç¡®è®¤ |

### 3.3 é˜¶æ®µæ‰§è¡Œç­–ç•¥

#### é˜¶æ®µ 1-3ï¼šCI è‡ªåŠ¨åŒ–ï¼ˆæ— å˜åŒ–ï¼‰

```bash
# ç°æœ‰ CI æµç¨‹ä¿æŒä¸å˜
ruff check . && ruff format --check .
pytest tests/unit/ -m "not real"
pytest tests/integration/
```

#### é˜¶æ®µ 4ï¼šDev æ— å¤´éªŒè¯ï¼ˆPlaywright MCPï¼‰

```python
# Agent æ‰§è¡Œ
await playwright_navigate(
    url="about:blank",  # èµ·å§‹é¡µ
    browserType="chromium",
    headless=True,
    timeout=300000  # 5åˆ†é’Ÿè¶…æ—¶
)

# æ‰§è¡Œ rscore --dev --headless
# é€šè¿‡ subprocess æˆ–ç›´æ¥è°ƒç”¨ MSRewardsApp
```

#### é˜¶æ®µ 5ï¼šUser æ— å¤´éªŒè¯ï¼ˆPlaywright MCPï¼‰

```python
# Agent æ‰§è¡Œ
await playwright_navigate(
    url="about:blank",
    browserType="chromium",
    headless=True,
    timeout=600000  # 10åˆ†é’Ÿè¶…æ—¶
)

# æ‰§è¡Œ rscore --user --headless
# æ£€æŸ¥è¯Šæ–­æŠ¥å‘Šï¼šlogs/diagnosis/latest/
```

#### é˜¶æ®µ 6ï¼šæœ‰å¤´éªŒæ”¶ï¼ˆPlaywright MCPï¼‰

```python
# Agent æ‰§è¡Œ - å¯è§†åŒ–æ¨¡å¼
await playwright_navigate(
    url="https://login.live.com",
    browserType="chromium",
    headless=False,  # å¯è§†åŒ–
    width=1280,
    height=720
)

# è§‚å¯Ÿç™»å½•æµç¨‹
# æˆªå›¾å…³é”®æ­¥éª¤
# éªŒè¯æ‹Ÿäººè¡Œä¸º
```

#### é˜¶æ®µ 7ï¼šGitHub PRï¼ˆGitHub MCPï¼‰

```python
# Agent æ‰§è¡Œ
pr = await create_pull_request(
    owner="username",
    repo="RewardsCore-Diagnosis",
    title="feat: æ–°åŠŸèƒ½æè¿°",
    head="feature/xxx",
    base="main",
    body=generate_pr_body()  # è‡ªåŠ¨ç”Ÿæˆ PR æè¿°
)

# è§¦å‘ Copilot å®¡æŸ¥
# ç­‰å¾… CI çŠ¶æ€æ£€æŸ¥
```

#### é˜¶æ®µ 8ï¼šåˆå¹¶ PRï¼ˆäººå·¥ç¡®è®¤ï¼‰

```python
# éœ€è¦äººå·¥ç¡®è®¤åæ‰§è¡Œ
await merge_pull_request(
    owner="username",
    repo="RewardsCore-Diagnosis",
    pull_number=pr_number,
    merge_method="squash"
)
```

---

## 4. è‡ªåŠ¨åŒ–ä¸äººå·¥è¾¹ç•Œ

### 4.1 è¾¹ç•Œåˆ’åˆ†çŸ©é˜µ

| æ“ä½œç±»å‹ | è‡ªåŠ¨åŒ–ç¨‹åº¦ | æ‰§è¡Œè€… | ç¡®è®¤è¦æ±‚ |
|----------|------------|--------|----------|
| ä»£ç æ£€æŸ¥ | 100% | CI | æ—  |
| å•å…ƒæµ‹è¯• | 100% | CI | æ—  |
| é›†æˆæµ‹è¯• | 100% | CI | æ—  |
| æ— å¤´éªŒè¯ | 100% | Agent + Playwright MCP | æ—  |
| æœ‰å¤´éªŒè¯ | 80% | Agent + Playwright MCP | å¼‚å¸¸æ—¶äººå·¥ |
| åˆ›å»º PR | 100% | Agent + GitHub MCP | æ—  |
| åˆå¹¶ PR | 0% | äººå·¥ | å¿…é¡»ç¡®è®¤ |
| Push | 0% | äººå·¥ | å¿…é¡»ç¡®è®¤ |

### 4.2 å®‰å…¨è¾¹ç•Œå®šä¹‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              å®‰å…¨è¾¹ç•Œ                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚          å®‰å…¨åŒºï¼ˆAgent å¯æ‰§è¡Œï¼‰       â”‚   â”‚         å±é™©åŒºï¼ˆéœ€äººå·¥ç¡®è®¤ï¼‰          â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚  âœ“ è¯»å–æ–‡ä»¶                          â”‚   â”‚  âœ— git push                         â”‚
  â”‚  âœ“ å†™å…¥æ–‡ä»¶                          â”‚   â”‚  âœ— git commit --amend               â”‚
  â”‚  âœ“ è¿è¡Œæµ‹è¯•                          â”‚   â”‚  âœ— git rebase                      â”‚
  â”‚  âœ“ æµè§ˆå™¨æ“ä½œ                        â”‚   â”‚  âœ— merge PR                        â”‚
  â”‚  âœ“ åˆ›å»º PR                          â”‚   â”‚  âœ— åˆ é™¤åˆ†æ”¯                        â”‚
  â”‚  âœ“ æ·»åŠ è¯„è®º                          â”‚   â”‚  âœ— ä¿®æ”¹ä¿æŠ¤è§„åˆ™                    â”‚
  â”‚  âœ“ åˆ›å»º Issue                       â”‚   â”‚  âœ— æš´éœ² secrets                    â”‚
  â”‚  âœ“ æ›´æ–° Memory                      â”‚   â”‚                                     â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 5. AI å®¡æŸ¥ç³»ç»Ÿ

### 5.1 å®¡æŸ¥æœºå™¨äººæ¸…å•

| æœºå™¨äºº | è§¦å‘æœºåˆ¶ | å®¡æŸ¥ç‰¹ç‚¹ |
|--------|----------|----------|
| **Copilot** | å¯é…ç½®ï¼šåˆ›å»º PR æ—¶ / æ¯æ¬¡ commit / æ‰‹åŠ¨ | æœ€è¯¦ç»†ï¼Œè¦†ç›–æ‰€æœ‰æ–‡ä»¶ï¼Œæä¾›ä»£ç å»ºè®® |
| **sourcery-ai** | åˆ›å»º PR æ—¶è‡ªåŠ¨è§¦å‘ä¸€æ¬¡ | ç»“æ„åŒ–è¯„è®ºï¼Œæä¾› AI Agent Prompt |
| **qodo-code-review** | åˆ›å»º PR æ—¶è‡ªåŠ¨è§¦å‘ä¸€æ¬¡ | å¸¦ SVG å›¾æ ‡ï¼Œæä¾› Agent Prompt |

### 5.2 å®¡æŸ¥è§¦å‘æœºåˆ¶

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              AI å®¡æŸ¥è§¦å‘æœºåˆ¶                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

PR åˆ›å»º
    â”‚
    â”œâ”€â”€â–¶ sourcery-ai[bot] â”€â”€â–¶ è‡ªåŠ¨å®¡æŸ¥ä¸€æ¬¡
    â”‚
    â”œâ”€â”€â–¶ qodo-code-review[bot] â”€â”€â–¶ è‡ªåŠ¨å®¡æŸ¥ä¸€æ¬¡
    â”‚
    â””â”€â”€â–¶ Copilot â”€â”€â–¶ æ ¹æ®é…ç½®ï¼š
                     â”œâ”€â”€ åˆ›å»º PR æ—¶è‡ªåŠ¨å®¡æŸ¥
                     â”œâ”€â”€ æ¯æ¬¡ commit è‡ªåŠ¨å®¡æŸ¥
                     â””â”€â”€ æ‰‹åŠ¨è§¦å‘

åç»­ commit
    â”‚
    â””â”€â”€â–¶ ä»… Copilot ä¼šå¢é‡å®¡æŸ¥ï¼ˆå¦‚æœé…ç½®äº†ï¼‰
    
æ‰‹åŠ¨è§¦å‘
    â”‚
    â””â”€â”€â–¶ @sourcery-ai æˆ– @qodo-code-review å¯è§¦å‘é‡æ–°å®¡æŸ¥
```

### 5.3 å®¡æŸ¥å®Œæˆæ£€æµ‹

```python
async def wait_for_ai_reviews(pr_number: int, timeout: int = 600):
    """
    ç­‰å¾… AI å®¡æŸ¥å®Œæˆ
    
    æ ¹æ®å†å²æ•°æ®ï¼š
    - å° PRï¼š2-5 åˆ†é’Ÿ
    - å¤§ PRï¼šå¯èƒ½æ›´é•¿
    
    Args:
        pr_number: PR ç¼–å·
        timeout: è¶…æ—¶æ—¶é—´ï¼ˆç§’ï¼‰ï¼Œé»˜è®¤ 10 åˆ†é’Ÿ
    """
    required_bots = {
        'sourcery-ai[bot]',
        'copilot-pull-request-reviewer[bot]',
        'qodo-code-review[bot]'
    }
    
    start_time = time.time()
    poll_interval = 30  # 30 ç§’è½®è¯¢ä¸€æ¬¡
    
    while time.time() - start_time < timeout:
        reviews = await get_pull_request_reviews(owner, repo, pr_number)
        reviewed_bots = {r['user']['login'] for r in reviews}
        
        if required_bots.issubset(reviewed_bots):
            return True
        
        await asyncio.sleep(poll_interval)
    
    return False
```

### 5.4 è¯„è®ºæ ¼å¼è§£æ

#### sourcery-ai æ ¼å¼

```
**issue (bug_risk):** é—®é¢˜æè¿°

ä»£ç ä¸Šä¸‹æ–‡...

âœ… Addressed in xxx  # è¡¨ç¤ºå·²è§£å†³
```

#### Copilot æ ¼å¼

```
## Pull request overview

æ¦‚è¿°å†…å®¹...

### Reviewed changes

| File | Description |
|------|-------------|
| xxx | xxx |

```suggestion
ä»£ç å»ºè®®
```

```

#### qodo æ ¼å¼

```

<img src="...action-required.svg">

1\. é—®é¢˜æ ‡é¢˜ ğŸ Bug â›° Reliability

é—®é¢˜æè¿°...

<details>
<summary>Agent Prompt</summary>

AI ä¿®å¤æç¤º...

</details>
```

### 5.5 å®¡æŸ¥æ„è§å¤„ç†ç­–ç•¥

```python
def classify_review_comments(comments: list) -> dict:
    """
    åˆ†ç±»å®¡æŸ¥æ„è§
    """
    result = {
        'critical': [],      # å¿…é¡»ä¿®å¤
        'suggestions': [],   # å»ºè®®æ”¹è¿›
        'resolved': [],      # å·²è§£å†³
    }
    
    for comment in comments:
        body = comment['body']
        
        # å·²è§£å†³çš„é—®é¢˜
        if 'âœ… Addressed' in body:
            result['resolved'].append(comment)
            continue
        
        # å…³é”®é—®é¢˜
        if any(tag in body for tag in ['bug_risk', 'Bug', 'Action required', 'security']):
            result['critical'].append(comment)
        # å»ºè®®æ”¹è¿›
        elif any(tag in body for tag in ['suggestion', 'performance', 'testing']):
            result['suggestions'].append(comment)
    
    return result
```

### 5.6 PR æè¿°æ¨¡æ¿

æ ¹æ®å†å² PR è§„å¾‹ï¼ŒåŸºç¡€æ¨¡æ¿å¦‚ä¸‹ï¼š

```markdown
## æ¦‚è¿°

[ä¸€å¥è¯æè¿°æœ¬æ¬¡ PR çš„ç›®çš„]

## ä¸»è¦å˜æ›´

### æ–°åŠŸèƒ½
- [åŠŸèƒ½åˆ—è¡¨]

### Bug ä¿®å¤
- [ä¿®å¤åˆ—è¡¨]

### æ”¹è¿›
- [æ”¹è¿›åˆ—è¡¨]

## æ–‡ä»¶å˜æ›´

| æ–‡ä»¶ | å˜æ›´è¯´æ˜ |
|------|----------|
| `path/to/file` | è¯´æ˜ |

## æµ‹è¯•ç»“æœ

- âœ… å•å…ƒæµ‹è¯•ï¼šX passed
- âœ… é™æ€æ£€æŸ¥ï¼šé€šè¿‡

## ç ´åæ€§å˜æ›´

[æ—  / æœ‰ï¼Œè¯´æ˜è¿ç§»æ–¹å¼]
```

**åŸåˆ™**ï¼š

- é‡è¦ä¿¡æ¯å…¨è¦†ç›–ï¼ˆæ¦‚è¿°ã€å˜æ›´ã€æµ‹è¯•ã€ç ´åæ€§ï¼‰
- é¿å…èµ˜ä½™ï¼Œæ ¹æ®å®é™…æƒ…å†µè°ƒæ•´ç« èŠ‚
- è‡ªç”±å‘æŒ¥ï¼Œä¸å¼ºåˆ¶ä¸¥æ ¼æ¨¡æ¿

### 5.7 Agent å†³ç­–åŸåˆ™

| é—®é¢˜ç±»å‹ | æ ‡ç­¾ | Agent è¡Œä¸º |
|----------|------|------------|
| **å…³é”®é—®é¢˜** | `bug_risk`, `Bug`, `security` | å¿…é¡»ä¿®å¤ï¼Œå¦åˆ™ä¸åˆå¹¶ |
| **æµ‹è¯•é—®é¢˜** | `testing` | è¯„ä¼°é£é™©ï¼Œé«˜é£é™©å¿…é¡»ä¿®å¤ |
| **æ€§èƒ½å»ºè®®** | `performance` | è‡ªä¸»å†³å®šï¼Œæƒè¡¡æ”¹åŠ¨æˆæœ¬ |
| **é£æ ¼å»ºè®®** | `style`, `readability` | å¯å¿½ç•¥ï¼ˆå·²æœ‰ ruffï¼‰ |
| **å·²è§£å†³** | `âœ… Addressed` | è·³è¿‡ |

### 5.8 è¯„è®ºè¯»å– API

```python
# è·å– PR å®¡æŸ¥ç»“æœ
reviews = await get_pull_request_reviews(owner, repo, pr_number)

# è·å– PR è¯„è®ºï¼ˆé€è¡Œä»£ç è¯„è®ºï¼‰
comments = await get_pull_request_comments(owner, repo, pr_number)

# è·å– PR çŠ¶æ€æ£€æŸ¥ï¼ˆCI ç»“æœï¼‰
status = await get_pull_request_status(owner, repo, pr_number)
```

---

## 6. Memory MCP çŸ¥è¯†ç®¡ç†

### 6.1 é¡¹ç›®çŸ¥è¯†å›¾è°±ç»“æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           RewardsCore-Diagnosis çŸ¥è¯†å›¾è°±                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Project       â”‚
â”‚ RewardsCore     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
    â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â–¼         â–¼            â–¼            â–¼            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚Module  â”‚ â”‚Module  â”‚ â”‚Module  â”‚ â”‚Module  â”‚ â”‚Module  â”‚
â”‚browser â”‚ â”‚ login  â”‚ â”‚ search â”‚ â”‚ tasks  â”‚ â”‚diag    â”‚
â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
    â”‚          â”‚          â”‚          â”‚          â”‚
    â–¼          â–¼          â–¼          â–¼          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚Pattern â”‚ â”‚Pattern â”‚ â”‚Pattern â”‚ â”‚Pattern â”‚ â”‚Pattern â”‚
â”‚Simulatorâ”‚ â”‚StateMchâ”‚ â”‚Strategyâ”‚ â”‚Templateâ”‚ â”‚Observerâ”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 6.2 çŸ¥è¯†å®ä½“å®šä¹‰

```python
# é¡¹ç›®å®ä½“
create_entities([{
    "name": "RewardsCore-Diagnosis",
    "entityType": "Project",
    "observations": [
        "Microsoft Rewards è‡ªåŠ¨åŒ–å·¥å…·",
        "Python + Playwright æŠ€æœ¯æ ˆ",
        "æ”¯æŒ dev/user åŒæ¨¡å¼",
        "é›†æˆè¯Šæ–­ç³»ç»Ÿ"
    ]
}])

# æ¨¡å—å®ä½“
create_entities([
    {"name": "MSRewardsApp", "entityType": "Component", 
     "observations": ["é—¨é¢æ¨¡å¼", "8æ­¥æ‰§è¡Œæµç¨‹", "å…¥å£ç‚¹"]},
    {"name": "LoginStateMachine", "entityType": "Component",
     "observations": ["çŠ¶æ€æœºæ¨¡å¼", "10ä¸ªHandler", "æ”¯æŒ2FA"]},
    {"name": "DiagnosticEngine", "entityType": "Component",
     "observations": ["é—®é¢˜æ ¹å› åˆ†æ", "è§£å†³æ–¹æ¡ˆç”Ÿæˆ", "è¯Šæ–­æŠ¥å‘Š"]}
])

# å…³ç³»å®šä¹‰
create_relations([
    {"from": "MSRewardsApp", "to": "LoginStateMachine", "relationType": "uses"},
    {"from": "MSRewardsApp", "to": "DiagnosticEngine", "relationType": "integrates"},
    {"from": "LoginStateMachine", "to": "DiagnosticEngine", "relationType": "reports_to"}
])
```

### 6.3 ä¸Šä¸‹æ–‡æŒä¹…åŒ–ç­–ç•¥

| åœºæ™¯ | å­˜å‚¨å†…å®¹ | æŸ¥è¯¢æ—¶æœº |
|------|----------|----------|
| æ–°åŠŸèƒ½å¼€å‘ | æ¨¡å—ä¾èµ–ã€è®¾è®¡å†³ç­– | å¼€å§‹å¼€å‘å‰ |
| Bug ä¿®å¤ | é”™è¯¯æ¨¡å¼ã€è§£å†³æ–¹æ¡ˆ | å®šä½é—®é¢˜æ—¶ |
| é‡æ„ | æ¶æ„æ¼”å˜ã€è¿ç§»è®°å½• | è§„åˆ’é‡æ„æ—¶ |
| éªŒæ”¶ | æµ‹è¯•ç»“æœã€é—®é¢˜è®°å½• | éªŒæ”¶é˜¶æ®µ |

---

## 7. å·¥ä½œæµç¤ºä¾‹

### 7.1 å®Œæ•´å¼€å‘å‘¨æœŸç¤ºä¾‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           åŠŸèƒ½å¼€å‘å®Œæ•´æµç¨‹                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

1. ä»»åŠ¡å¼€å§‹
   â””â”€â”€ Agent æŸ¥è¯¢ Memory MCP è·å–é¡¹ç›®ä¸Šä¸‹æ–‡
   â””â”€â”€ æœç´¢ç›¸å…³æ¨¡å—ä»£ç 
   â””â”€â”€ åˆ¶å®šå¼€å‘è®¡åˆ’

2. ä»£ç å¼€å‘
   â””â”€â”€ ç¼–å†™ä»£ç 
   â””â”€â”€ ç¼–å†™/æ›´æ–°æµ‹è¯•
   â””â”€â”€ æœ¬åœ°éªŒè¯ï¼ˆé˜¶æ®µ 1-3ï¼‰

3. æ— å¤´éªŒè¯ï¼ˆé˜¶æ®µ 4-5ï¼‰
   â””â”€â”€ Playwright MCP å¯åŠ¨æ— å¤´æµè§ˆå™¨
   â””â”€â”€ æ‰§è¡Œ rscore --dev --headless
   â””â”€â”€ æ‰§è¡Œ rscore --user --headless
   â””â”€â”€ æ£€æŸ¥è¯Šæ–­æŠ¥å‘Š

4. æœ‰å¤´éªŒæ”¶ï¼ˆé˜¶æ®µ 6ï¼‰
   â””â”€â”€ Playwright MCP å¯åŠ¨å¯è§†åŒ–æµè§ˆå™¨
   â””â”€â”€ è§‚å¯Ÿç™»å½•æµç¨‹
   â””â”€â”€ éªŒè¯æ‹Ÿäººè¡Œä¸º
   â””â”€â”€ æˆªå›¾å…³é”®æ­¥éª¤

5. åˆ›å»º PRï¼ˆé˜¶æ®µ 7ï¼‰
   â””â”€â”€ GitHub MCP åˆ›å»º PR
   â””â”€â”€ è‡ªåŠ¨ç”Ÿæˆ PR æè¿°
   â””â”€â”€ è§¦å‘ CI æ£€æŸ¥

6. ç­‰å¾…å®¡æŸ¥
   â””â”€â”€ å±•ç¤ºæ”¹åŠ¨æ‘˜è¦
   â””â”€â”€ ç­‰å¾…ç”¨æˆ·è¾“å…¥"æœ¬åœ°å®¡æŸ¥é€šè¿‡"
   â””â”€â”€ ç­‰å¾…ç”¨æˆ·è¾“å…¥"åœ¨çº¿å®¡æŸ¥é€šè¿‡"

7. åˆå¹¶ï¼ˆé˜¶æ®µ 8ï¼‰
   â””â”€â”€ ç”¨æˆ·ç¡®è®¤åæ‰§è¡Œ merge
   â””â”€â”€ æ›´æ–° Memory MCP è®°å½•
```

### 7.2 é”™è¯¯å¤„ç†æµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              é”™è¯¯å¤„ç†æµç¨‹                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

æµ‹è¯•å¤±è´¥
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Agent è‡ªè¯Šæ–­     â”‚
â”‚ - è¯»å– tracebackâ”‚
â”‚ - åˆ†ææ—¥å¿—æ–‡ä»¶   â”‚
â”‚ - æ£€æŸ¥è¯Šæ–­æŠ¥å‘Š   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
    â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”
    â–¼         â–¼
 å¯ä¿®å¤      ä¸å¯ä¿®å¤
    â”‚           â”‚
    â–¼           â–¼
ä¿®å¤ä»£ç     ç”Ÿæˆåˆ†ææŠ¥å‘Š
é‡è·‘æµ‹è¯•    å‘ç”¨æˆ·æ±‚åŠ©
```

---

## 8. é…ç½®ä¸å·¥å…·é“¾

### 8.1 MCP é…ç½®ç¤ºä¾‹

```yaml
# mcp-config.yaml (å»ºè®®æ–°å¢)
servers:
  playwright:
    command: npx
    args: ["@playwright/mcp-server"]
    env:
      BROWSER: chromium
      
  github:
    command: npx
    args: ["@github/mcp-server"]
    env:
      GITHUB_TOKEN: ${GITHUB_TOKEN}
      
  memory:
    command: npx
    args: ["@memory/mcp-server"]
    env:
      STORAGE_PATH: ./memory/
```

### 8.2 éªŒæ”¶è„šæœ¬ç¤ºä¾‹

```python
# tools/mcp_acceptance.py (å»ºè®®æ–°å¢)
"""MCP é©±åŠ¨çš„éªŒæ”¶è„šæœ¬"""

import asyncio
from mcp import Client

async def run_acceptance(mode: str = "dev"):
    """è¿è¡ŒéªŒæ”¶æµç¨‹"""
    client = Client()
    
    # é˜¶æ®µ 4/5: æ— å¤´éªŒè¯
    await client.playwright.navigate(
        url="about:blank",
        headless=True
    )
    
    # æ‰§è¡Œä¸»ç¨‹åº
    result = await run_rscore(mode, headless=True)
    
    if result.exit_code != 0:
        # æ£€æŸ¥è¯Šæ–­æŠ¥å‘Š
        report = read_diagnosis_report()
        return {"status": "failed", "report": report}
    
    return {"status": "passed"}

async def run_visual_acceptance():
    """é˜¶æ®µ 6: æœ‰å¤´éªŒæ”¶"""
    client = Client()
    
    await client.playwright.navigate(
        url="https://login.live.com",
        headless=False,
        width=1280,
        height=720
    )
    
    # å½•åˆ¶æ“ä½œ
    session = await client.playwright.start_codegen_session(
        options={"outputPath": "tests/e2e/"}
    )
    
    # ... æ‰§è¡ŒéªŒæ”¶æ“ä½œ ...
    
    await client.playwright.end_codegen_session(session.id)
```

---

## 9. è¿ç§»è®¡åˆ’

### 9.1 ä»æ—§æµç¨‹è¿ç§»

| æ—§é˜¶æ®µ | æ–°é˜¶æ®µ | å˜åŒ– |
|--------|--------|------|
| é˜¶æ®µ 1-3 | é˜¶æ®µ 1-3 | æ— å˜åŒ– |
| é˜¶æ®µ 4 (æ‰‹åŠ¨) | é˜¶æ®µ 4 (MCP) | Playwright è‡ªåŠ¨åŒ– |
| é˜¶æ®µ 5 (æ‰‹åŠ¨) | é˜¶æ®µ 5 (MCP) | Playwright è‡ªåŠ¨åŒ– |
| é˜¶æ®µ 6 (æ‰‹åŠ¨) | é˜¶æ®µ 6 (MCP) | Playwright å¯è§†åŒ– |
| æ‰‹åŠ¨åˆ›å»º PR | é˜¶æ®µ 7 (MCP) | GitHub è‡ªåŠ¨åŒ– |
| æ‰‹åŠ¨åˆå¹¶ | é˜¶æ®µ 8 (äººå·¥) | éœ€ç¡®è®¤ |

### 9.2 æ–‡æ¡£æ›´æ–°æ¸…å•

- [ ] æ›´æ–° `user_rules.md` é€‚é…æ–°æµç¨‹
- [ ] æ›´æ–° `BRANCH_GUIDE.md` å¼•ç”¨æœ¬æ–‡æ¡£
- [ ] åˆ›å»º `mcp-config.yaml` é…ç½®æ–‡ä»¶
- [ ] åˆ›å»º `tools/mcp_acceptance.py` éªŒæ”¶è„šæœ¬
- [ ] æ›´æ–° CI å·¥ä½œæµé›†æˆ MCP

---

## 10. é™„å½•

### 10.1 Playwright MCP API å‚è€ƒ

| æ–¹æ³• | å‚æ•° | è¯´æ˜ |
|------|------|------|
| `navigate` | url, browserType, headless, width, height, timeout | å¯¼èˆªåˆ° URL |
| `start_codegen_session` | options | å¼€å§‹å½•åˆ¶ |
| `end_codegen_session` | sessionId | ç»“æŸå½•åˆ¶ç”Ÿæˆæµ‹è¯• |
| `get_codegen_session` | sessionId | è·å–ä¼šè¯ä¿¡æ¯ |
| `clear_codegen_session` | sessionId | æ¸…é™¤ä¼šè¯ |

### 10.2 GitHub MCP API å‚è€ƒ

| æ–¹æ³• | å‚æ•° | è¯´æ˜ |
|------|------|------|
| `create_pull_request` | owner, repo, title, head, base, body | åˆ›å»º PR |
| `get_pull_request` | owner, repo, pull_number | è·å– PR è¯¦æƒ… |
| `merge_pull_request` | owner, repo, pull_number, merge_method | åˆå¹¶ PR |
| `create_pull_request_review` | owner, repo, pull_number, event, body | åˆ›å»ºå®¡æŸ¥ |
| `get_pull_request_status` | owner, repo, pull_number | è·å–çŠ¶æ€æ£€æŸ¥ |

### 10.3 Memory MCP API å‚è€ƒ

| æ–¹æ³• | å‚æ•° | è¯´æ˜ |
|------|------|------|
| `create_entities` | entities | åˆ›å»ºå®ä½“ |
| `create_relations` | relations | åˆ›å»ºå…³ç³» |
| `add_observations` | observations | æ·»åŠ è§‚å¯Ÿ |
| `search_nodes` | query | æœç´¢èŠ‚ç‚¹ |
| `read_graph` | - | è¯»å–å…¨å›¾ |
